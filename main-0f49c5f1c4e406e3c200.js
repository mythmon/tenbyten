webpackJsonp([0],{1029:function(e){e.exports="/tenbyten/assets/8ea47d16fe7113f1c23637e41cec872e.svg"},103:function(e,a,t){"use strict";var n=t(18),r=t.n(n),i=t(68),s=t.n(i);const o=(e)=>e.router.params,l=(e)=>e.router.query,d=t.i(n.createSelector)([o],(e)=>e.username);a.a=d;const p=t.i(n.createSelector)([o],(e)=>parseInt(e.listId));a.b=p;const c=t.i(n.createSelector)([l],(e)=>{let a=s()(e.startDate,"YYYY-MM-DD");return a.isValid()||(a=s()().startOf("year")),a});a.c=c;const m=t.i(n.createSelector)([l],(e)=>{let a=s()(e.endDate,"YYYY-MM-DD");return a.isValid()||(a=s()().endOf("year")),a});a.d=m},104:function(e,a,t){"use strict";var n=t(416);a.a=function(e){const a={};return a[e+"_UPDATE"]=(e,{item:a})=>r({},e,{[a.id]:r({},e[a.id],a)}),a[e+"_UPDATE_MANY"]=(e,{items:a})=>{const t=r({},e);for(let n of a)t[n.id]=r({},t[n.id],n);return t},a[e+"_ADD"]=(e,{item:a})=>r({},e,{[a.id]:r({},a)}),a[e+"_ADD_MANY"]=(e,{items:a})=>{const t=r({},e);for(const n of a)t[n.id]=r({},n);return t},t.i(n.a)({},a)};var r=Object.assign||function(e){for(var a,t=1;t<arguments.length;t++)for(var n in a=arguments[t],a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);return e}},1236:function(e){function a(e){throw new Error("Cannot find module '"+e+"'.")}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id=1236},1436:function(e,a,t){t(376),t(378),t(379),t(380),e.exports=t(377)},145:function(e,a,t){"use strict";function n(e,a,t,n,r){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(t,n){return n(e,a,t)||t},i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,a,i),i=null),i}var r,i=t(18),s=t.n(i),o=t(255),l=t.n(o),d=t(147),p=t(232),c=t(228),m=t(230),u=Object.assign||function(e){for(var a,t=1;t<arguments.length;t++)for(var n in a=arguments[t],a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);return e};let y=(r=class extends d.a{get collection(){return this.state.plays}get date(){return this.data.date}get creator(){return this.data.creator}get item(){return new m.a(this.state,this.data.itemId)}get comments(){return this.data.comments}get commentsParsed(){if(this.comments&&""!==this.comments)try{let e=l.a.safeLoad(this.comments);if("object"==typeof e)return e}catch(a){}return null}get length(){return this.data.length}get players(){return this.data.players.map((e)=>u({},this.state.players[e.id],e))}},n(r.prototype,"commentsParsed",[p.a],Object.getOwnPropertyDescriptor(r.prototype,"commentsParsed"),r.prototype),n(r.prototype,"players",[p.a],Object.getOwnPropertyDescriptor(r.prototype,"players"),r.prototype),r);const f=t.i(i.createSelector)((e)=>e.router.params.username,(e)=>{const a=Object.keys(e.plays).map((a)=>new y(e,a));return a.sort((e,a)=>{return+e.date>+a.date?1:+e.date<+a.date?-1:0}),a},c.a,(e,a,t)=>{let n=a.filter((a)=>a.creator===e);if(t){const e=new Set(t.items.map((e)=>e.id));n=n.filter((a)=>e.has(a.item.id))}return n});a.b=f;const g=t.i(i.createSelector)(f,(e)=>{const a={};for(const t of e){const e=t.item.id;e in a||(a[e]=[]),a[e].push(t)}return a});a.a=g},146:function(e,a){"use strict";function t(a,e,l={}){return async(d)=>{let p=new URL(o+e);for(let e in l)p.searchParams.set(e,l[e]);d(n(a));try{const n=await fetch(p);if(400<=n.state){let t=new Error((await n.text()));throw t.response=n,d(i(a,t)),t}else return 202===n.state?(d(s(a)),new Promise((e)=>{setTimeout(()=>e(d(t)),5e3)})):(d(r(a)),n)}catch(t){throw d(i(a,t)),t}}}function n(e){return{type:"REQUEST_START",requestId:e}}function r(e){return{type:"REQUEST_SUCCESS",requestId:e}}function i(e,a){return{type:"REQUEST_FAIL",requestId:e,error:a}}function s(e){return{type:"REQUEST_PENDING",requestId:e}}a.a=t;const o="https://cors-anywhere.herokuapp.com/https://www.boardgamegeek.com"},147:function(e,a,t){"use strict";t.d(a,"a",function(){return n});let n=class{constructor(e,a){if(void 0===e)throw new Error("State cannot be undefined");if(void 0===a)throw new Error("ID cannot be undefined");if(this.state=e,this.id=a,void 0===this.data)throw new Error(`ID ${this.id} not found in collection`)}get collection(){throw new Error("not implemented")}get data(){return this.collection[this.id]}}},148:function(e,a,t){"use strict";function n({name:e,username:a,id:t}){return e||a||t}var r=t(1421),i=t.n(r),s=t(369),o=t.n(s);a.b=n,a.c=function(e){return n(e).slice(0,1).toUpperCase()},a.a=function({name:e,username:a,id:t}){let n=i()("sha256").update(t||"").update(e||"").update(a||""),r=parseInt(n.digest("hex"),16);return s.COLORS[r%s.COLORS.length]}},225:function(e,a,t){"use strict";var n=t(0),r=t.n(n),i=t(75),s=t.n(i),o=t(222),l=t.n(o),d=t(148);t.d(a,"a",function(){return m});var p,c;let m=(c=p=class extends r.a.Component{render(){const{player:e}=this.props;return r.a.createElement(s.a,{circular:!0,color:t.i(d.a)(e),size:"mini",title:t.i(d.b)(e)},t.i(d.c)(e))}},p.propTypes={player:n.PropTypes.object.isRequired},c)},226:function(e,a,t){"use strict";var n=t(0),r=t.n(n),i=t(101),s=t.n(i),o=t(397),l=t(388);a.a={"/":{},"/table/:listId/:username/":{}};const d=r.a.createElement("div",null,r.a.createElement(i.RelativeFragment,{forRoute:"/",withConditions:(e)=>"/"===e.pathname},r.a.createElement(l.a,null)),r.a.createElement(i.RelativeFragment,{forRoute:"/table/:listId/:username/"},r.a.createElement(o.a,null)));a.b=d},227:function(e,a,t){"use strict";function n(e,a){return{type:"GEEKLIST_SEARCH_SET_RESULT",username:e,result:a}}Object.defineProperty(a,"__esModule",{value:!0});var r=t(146);a.setSearchUsername=function(e){return{type:"GEEKLIST_SEARCH_SET_USERNAME",username:e}},a.setGeekListSearchResult=n,a.searchForGeekLists=function(e){return async(a)=>{a(n(e,{status:"pending",list:[]}));const i=`geekListSearch/${e}`,s=await a(t.i(r.a)(i,`/geeklist/lists/user/${e}`)),o=await s.text(),l=new DOMParser,d=l.parseFromString(o,"text/html"),p=d.querySelector(".messagebox.error");if(p)return void a(n(e,{status:"error",list:[],detail:p.textContent.trim()}));const c=Array.prototype.slice.call(d.querySelectorAll(".forum_table tbody tr"),1),m=[],u=/^\/geeklist\/(\d+)\/(.*)$/;for(let e of c){const a=e.querySelector(".mf a");m.push({title:a.textContent.trim(),id:parseInt(a.getAttribute("href").match(u)[1])})}a(n(e,{status:"success",list:m}))}}},228:function(e,a,t){"use strict";var n=t(230),r=t(147);t.d(a,"b",function(){return i});let i=class extends r.a{get collection(){return this.state.geekLists}get items(){return this.data.itemIds.map((e)=>{return new n.a(this.state,e)})}};a.a=(e)=>{const a=e.router.params.listId;return a in e.geekLists?new i(e,a):null}},229:function(e,a){"use strict";a.a=function(e){return{type:"ITEM_UPDATE_MANY",items:e}}},230:function(e,a,t){"use strict";var n=t(147),r=t(232),i=t(145);t.d(a,"a",function(){return o});var s;let o=(s=class extends n.a{get collection(){return this.state.items}get name(){return this.data.name}get averagePlayTime(){const e=t.i(i.a)(this.state),a=e[this.id]||[];let n=null;const r=a.map((e)=>e.length).filter((e)=>0<e);return 0<r.length&&(n=Math.round(r.reduce((e,a)=>e+a,0)/r.length)),n}},function(e,a,t,n,r){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(t,n){return n(e,a,t)||t},i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,a,i),i=null),i}(s.prototype,"averagePlayTime",[r.a],Object.getOwnPropertyDescriptor(s.prototype,"averagePlayTime"),s.prototype),s)},231:function(e,a,t){"use strict";var n=t(18),r=t.n(n),i=t(145);const s=t.i(n.createSelector)([i.b],(e)=>{const a={};for(const t of e){const e=`${t.date.format("YYYY-MM-DD")};${t.item.id}`;e in a||(a[e]=[]),a[e].push(t)}return Object.values(a).map((e)=>({plays:e,date:e[0].date,item:e[0].item}))});a.b=s;const o=t.i(n.createSelector)([s],(e)=>{const a={};for(const t of e){const e=t.item.id;e in a||(a[e]=[]),a[e].push(t)}return a});a.a=o},232:function(e,a){"use strict";a.a=function(e,a,t){const n=Symbol("_"+a),r=t.get;t.get=function(){return void 0===this[n]&&(this[n]=r.call(this)),this[n]}}},233:function(e,a){"use strict";a.a=function(){return t++};let t=1},376:function(){(function(){const e=sessionStorage.redirect;delete sessionStorage.redirect,e&&e!==location.href&&(console.log(`redirecting to ${e} for GHSPA fallback`),history.replaceState(null,null,e))})()},377:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=t(324),r=t.n(n),i=t(381);if(0===window.location.hash.indexOf("#/")){console.log("Redirecting hash URL to HTML5 URL",window.location,window.location.hash);let e=window.location.hash.slice(1);const a=-1!==window.location.hostname.indexOf("github.io");a&&(e="/tenbyten"+e),window.location=e}const s=t.i(i.a)();let o=document.querySelector("#container");r.a.render(s.rootComponent,o)},380:function(e,a,t){var n=t(496);"string"==typeof n&&(n=[[e.i,n,""]]);t(49)(n,{});n.locals&&(e.exports=n.locals),!1},381:function(e,a,t){"use strict";var n=t(0),r=t.n(n),i=t(24),s=t(101),o=t.n(s),l=t(415),d=t(382);a.a=function(){const e=t.i(l.a)();return{store:e,rootComponent:r.a.createElement(m,{store:e,history:history})}};var p,c;let m=(c=p=class extends n.Component{render(){const{store:e}=this.props;return r.a.createElement(i.Provider,{store:e},r.a.createElement(s.RouterProvider,{store:e},r.a.createElement(d.a,null)))}},p.propTypes={store:n.PropTypes.object.isRequired},c)},382:function(e,a,t){"use strict";var n=t(0),r=t.n(n),i=t(387),s=t(389),o=t(384),l=t(226);t.d(a,"a",function(){return d});let d=class extends n.Component{render(){return r.a.createElement("div",{className:"root"},r.a.createElement(s.a,null),r.a.createElement("div",{className:"wrapper"},r.a.createElement(i.a,null),r.a.createElement("div",{className:"content"},l.b),r.a.createElement(o.a,null)))}}},383:function(e,a,t){"use strict";var n=Math.floor,r=t(0),i=t.n(r),s=t(24),o=t(18),l=t.n(o),d=t(68),p=t.n(d),c=t(4),m=t.n(c),u=t(231),y=t(103);t.d(a,"a",function(){return E});var f,g,h,b;let E=(f=t.i(s.connect)(t.i(o.createStructuredSelector)({sessions:u.b,startDate:y.c,endDate:y.d})),f(g=(b=h=class extends r.Component{render(){const{sessions:e,startDate:a,endDate:t}=this.props,r=100,s=e.length,o=n(100*(s/r)),l=p()().diff(a)/t.diff(a),d=Math.ceil(l*r),c=n(100*(d/r));let u=s<d;return i.a.createElement("div",{className:m()("ChallengeProgress",{behindTarget:u})},i.a.createElement("div",{className:"progress bar",style:{width:`${o}%`}}),i.a.createElement("div",{className:"target bar",style:{width:`${c}%`}}),i.a.createElement("span",{className:"progress text",style:{flexBasis:`${o}%`}},"Played: ",s),u&&i.a.createElement("span",{className:"target text",style:{flexBasis:`${100-c}%`}},"Target: ",d))}},h.propTypes={sessions:r.PropTypes.array.isRequired,startDate:r.PropTypes.instanceOf(p.a).isRequired,endDate:r.PropTypes.instanceOf(p.a).isRequired},b))||g)},384:function(e,a,t){"use strict";var n=t(0),r=t.n(n),i=t(417);t.d(a,"a",function(){return s});let s=class extends n.Component{render(){return r.a.createElement("footer",null,r.a.createElement("a",{href:"https://github.com/mythmon/tenbyten"},"Source on GitHub")," \u2014 ",r.a.createElement("span",{className:"commit-info"},i.a.slice(0,7)))}}},385:function(e,a,t){"use strict";var n=t(0),r=t.n(n),i=t(101),s=t.n(i);t.d(a,"a",function(){return d});var o,l;let d=(l=o=class extends r.a.Component{render(){const{title:e,id:a,creator:t}=this.props;return r.a.createElement("div",null,r.a.createElement(i.Link,{href:`/table/${a}/${t}/`},e))}},o.propTypes={title:n.PropTypes.string.isRequired,creator:n.PropTypes.string.isRequired,id:n.PropTypes.number.isRequired},l)},386:function(e,a,t){"use strict";var n=t(0),r=t.n(n),i=t(58),s=t(24),o=t(18),l=t.n(o),d=t(365),p=t.n(d),c=t(375),m=t.n(c),u=t(234),y=t.n(u),f=t(227),g=t(399),h=t(385),b=t(396),E=t(402);t.d(a,"a",function(){return D});var T,P,x,S,k,v=Object.assign||function(e){for(var a,t=1;t<arguments.length;t++)for(var n in a=arguments[t],a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);return e};let D=(T=t.i(s.connect)(t.i(o.createStructuredSelector)({username:E.a,searchResults:E.b}),(e)=>t.i(i.d)(f,e)),T(P=(x=(k=S=class extends r.a.Component{handleChange(e){this.props.setSearchUsername(e.currentTarget.value)}render(){const{username:e,searchResults:a}=this.props;return r.a.createElement("div",null,r.a.createElement(g.a,null),r.a.createElement(p.a,{size:"mini"},r.a.createElement(p.a.Group,{inline:!0},r.a.createElement(p.a.Input,{label:"Username",name:"username",value:e,onChange:this.handleChange,autoComplete:"off"}),a&&"pending"===a.status&&r.a.createElement(b.a,null))),a&&"success"===a.status&&r.a.createElement("ul",null,a.list.map((a)=>r.a.createElement(h.a,v({key:a.id},a,{creator:e})))))}},S.propTypes={username:n.PropTypes.string.isRequired,searchResults:n.PropTypes.shape({list:n.PropTypes.array.isRequired,status:n.PropTypes.string.isRequired,detail:n.PropTypes.string}),setSearchUsername:n.PropTypes.func.isRequired},k),function(e,a,t,n,r){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(t,n){return n(e,a,t)||t},i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,a,i),i=null),i}(x.prototype,"handleChange",[u.autobind],Object.getOwnPropertyDescriptor(x.prototype,"handleChange"),x.prototype),x))||P)},387:function(e,a,t){"use strict";var n=t(0),r=t.n(n),i=t(101),s=t.n(i);a.a=function(){return r.a.createElement("nav",{className:"navbar"},r.a.createElement(i.Link,{href:"/"},r.a.createElement("span",{className:"logo"},"10\xD710")))}},388:function(e,a,t){"use strict";var n=t(0),r=t.n(n),i=t(386);t.d(a,"a",function(){return s});let s=class extends n.Component{render(){return r.a.createElement("div",null,r.a.createElement("h1",null,"10x10 challenge"),r.a.createElement("p",null,"Use the controls below to choose a Geeklist to get games from, and a user to get plays from."),r.a.createElement(i.a,null))}}},389:function(e,a,t){"use strict";var n=t(0),r=t.n(n),i=t(24),s=t(18),o=t.n(s),l=t(4),d=t.n(l),p=t(413);t.d(a,"a",function(){return f});var c,m,u,y;let f=(c=t.i(i.connect)(t.i(s.createStructuredSelector)({isLoading:p.a})),c(m=(y=u=class extends n.Component{render(){const{isLoading:e}=this.props;return r.a.createElement("div",{className:d()("loading-indicator",{active:e})})}},u.propTypes={isLoading:n.PropTypes.bool.isRequired},y))||m)},390:function(e,a,t){"use strict";function n(e,a,t,n,r){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(t,n){return n(e,a,t)||t},i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,a,i),i=null),i}var r=t(0),i=t.n(r),s=t(365),o=t.n(s),l=t(375),d=t.n(l),p=t(68),c=t.n(p),m=t(234),u=t.n(m);t.d(a,"a",function(){return b});var y,f,g;const h="YYYY-MM-DD";let b=(y=(g=f=class extends r.Component{constructor(e){super(e);const a=e.defaultStartDate,t=e.defaultEndDate;this.state={name:e.defaultUsername||"",list:(e.defaultListId||"").toString(),startDate:a?a.format(h):"",endDate:t?t.format(h):""}}handleChange(e){this.setState({[e.target.name]:e.target.value})}navigate(e){e.preventDefault();const{name:a,list:t,startDate:n,endDate:r}=this.state,i=-1!==window.location.hostname.indexOf("github.io");let s=`/table/${t}/${a}/?startDate=${n}&endDate=${r}`;i&&(s="/tenbyten"+s),window.location=s}render(){const{name:e,list:a,startDate:t,endDate:n}=this.state;return i.a.createElement("div",null,i.a.createElement(o.a,{size:"mini",onSubmit:this.navigate},i.a.createElement(o.a.Group,{inline:!0},i.a.createElement(o.a.Input,{label:"Username",name:"name",value:e,onChange:this.handleChange}),i.a.createElement(o.a.Input,{label:"Geeklist ID",name:"list",value:a,onChange:this.handleChange}),i.a.createElement(o.a.Input,{label:"Start Date",name:"startDate",value:t,onChange:this.handleChange}),i.a.createElement(o.a.Input,{label:"End Date",name:"endDate",value:n,onChange:this.handleChange}),i.a.createElement(o.a.Button,{type:"submit",size:"mini"},"Go"))))}},f.propTypes={defaultUsername:r.PropTypes.string,defaultListId:r.PropTypes.number,defaultStartDate:r.PropTypes.instanceOf(c.a),defaultEndDate:r.PropTypes.instanceOf(c.a)},g),n(y.prototype,"handleChange",[m.autobind],Object.getOwnPropertyDescriptor(y.prototype,"handleChange"),y.prototype),n(y.prototype,"navigate",[m.autobind],Object.getOwnPropertyDescriptor(y.prototype,"navigate"),y.prototype),y)},391:function(e,a,t){"use strict";var n=t(0),r=t.n(n),i=t(75),s=t.n(i),o=t(222),l=t.n(o),d=t(225),p=t(148);t.d(a,"a",function(){return u});var c,m;let u=(m=c=class extends n.Component{render(){const{player:e}=this.props;return r.a.createElement(s.a,{basic:!0,color:p.a(e),className:"player-label"},p.b(e),r.a.createElement(s.a.Detail,null,r.a.createElement(d.a,{player:e})))}},c.propTypes={player:n.PropTypes.shape({id:n.PropTypes.string.isRequired,name:n.PropTypes.string,username:n.PropTypes.string}).isRequired},m)},392:function(e,a,t){"use strict";var n=t(0),r=t.n(n),i=t(24),s=t(18),o=t.n(s),l=t(409),d=t(391);t.d(a,"a",function(){return y});var p,c,m,u;let y=(p=t.i(i.connect)(t.i(s.createStructuredSelector)({players:l.a})),p(c=(u=m=class extends n.Component{render(){const{players:e}=this.props;return r.a.createElement("div",{className:"players-list"},e.map((e)=>r.a.createElement(d.a,{player:e,key:e.id})))}},m.propTypes={players:n.PropTypes.arrayOf(n.PropTypes.shape({id:n.PropTypes.string.isRequired,username:n.PropTypes.string,name:n.PropTypes.string})).isRequired},u))||c)},393:function(e,a,t){"use strict";var n=t(0),r=t.n(n),i=t(216),s=t.n(i),o=t(223),l=t.n(o),d=t(75),p=t.n(d),c=t(222),m=t.n(c),u=t(255),y=t.n(u),f=t(1217),g=t.n(f),h=t(1321),b=t(1328),E=t.n(b),T=t(1326),P=t.n(T),x=t(1327),S=t.n(x),k=t(1325),v=t.n(k),D=t(1029),C=t.n(D),R=t(225),q=t(148);t.d(a,"a",function(){return _});var w,L,A=Object.assign||function(e){for(var a,t=1;t<arguments.length;t++)for(var n in a=arguments[t],a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);return e};const I=t.i(h.a)(r.a,{useCssModules:!1});let _=(L=w=class extends r.a.Component{render(){const{session:e}=this.props;let a=[],t=[];if(a.push(r.a.createElement("div",{name:"date",key:"date"},e.date.format("MMM Do"))),1===e.plays.length){const n=e.plays[0];let i={};if(n.commentsParsed?i=A({},n.commentsParsed):n.comments&&""!==n.comments.trim()&&t.push(r.a.createElement("span",{name:"comments",key:"comments",title:n.comments},r.a.createElement(P.a,null))),"score"in i&&(a.push(r.a.createElement("div",{name:"score",key:"score"},i.score," points")),delete i.score),n.players.length){const[e,t]=g.a.partition(n.players,(e)=>"number"==typeof e.score);e.sort((e,a)=>a.score-e.score),a.push(r.a.createElement("div",{name:"players",key:"players"},e.map((e,a)=>r.a.createElement(p.a,{key:`player-score-${e.id}-${a}`,basic:!0,color:q.a(e),className:"score-label"},r.a.createElement("span",{className:"points"},Math.floor(e.score),"pts"),r.a.createElement(p.a.Detail,null,r.a.createElement(R.a,{player:e})))),t.map((e,a)=>r.a.createElement(R.a,{key:`player-noscore-${e.id}-${a}`,player:e}))))}if("state"in i&&"high"===i.state&&(t.push(r.a.createElement("img",{name:"state-high",key:"state-high",src:C.a,title:"State: High"})),delete i.state),"board"in i){const e={germany:"de",europe:"eu",america:"us"}[i.board.toLowerCase()];console.log(`board: ${i.board} -> ${e}`),e&&(t.push(r.a.createElement("span",{name:`board-${e}`,key:`board-${e}`,title:`board: ${i.board}`},r.a.createElement(I,{code:e,size:"12"}))),delete i.board)}i.expansions&&-1!==i.expansions.indexOf("robots")&&(t.push(r.a.createElement("span",{name:"expansion-robots",key:"expansion-robots",title:"Expansion: Robots"},r.a.createElement(v.a,null))),i.expansions=i.expansions.filter((e)=>"robots"!==e)),i.expansions&&0===i.expansions.length&&delete i.expansions,0<Object.keys(i).length&&t.unshift(r.a.createElement("span",{name:"extra",key:"extra",title:y.a.safeDump(i)},r.a.createElement(E.a,null))),0===n.players.length&&t.push(r.a.createElement("span",{name:"warning-players",key:"warning-players",title:"No players recorded"},r.a.createElement(S.a,null)))}else{a.push(r.a.createElement("div",{name:"plays-count",key:"plays-count"},e.plays.length,"          plays"));const t={},n={};for(const a of e.plays){let e=null,r=-Infinity;for(const n of a.players)n.id in t||(t[n.id]=n),n.score&&n.score>r&&(r=n.score,e=n);e&&(n[e.id]=(n[e.id]||0)+1)}const[i,s]=g.a.partition(Object.values(t),(e)=>!!n[e.id]);a.push(r.a.createElement("div",{name:"players",key:"players"},i.map((e,a)=>r.a.createElement(p.a,{key:`player-wins-${e.id}-${a}`,basic:!0,color:q.a(e),className:"score-label"},r.a.createElement("span",{className:"points"},n[e.id],"                wins"),r.a.createElement(p.a.Detail,null,r.a.createElement(R.a,{player:e})))),s.map((e,a)=>r.a.createElement(R.a,{key:`player-noscore-${e.id}-${a}`,player:e}))))}return r.a.createElement(s.a.Cell,null,r.a.createElement("script",{type:"application/json",dangerouslySetInnerHTML:{__html:JSON.stringify(e)}}),r.a.createElement("div",{className:"play-cell"},r.a.createElement("div",{className:"info-set"},a),r.a.createElement("div",{className:"icon-set"},t)))}},w.propTypes={session:n.PropTypes.object.isRequired},w.defaultProps={maxPlays:10,showOverflow:!0},L)},394:function(e,a,t){"use strict";var n=t(0),r=t.n(n),i=t(216),s=t.n(i),o=t(223),l=t.n(o),d=t(393);t.d(a,"a",function(){return m});var p,c;let m=(c=p=class extends n.Component{render(){const{item:e,sessions:a,maxSessions:t}=this.props,n=[];for(let e of a.slice(0,t))n.push(r.a.createElement(d.a,{key:`${e.date}-${e.item.id}`,session:e}));for(;n.length<t;)n.push(r.a.createElement(s.a.Cell,{key:`empty-play-${n.length}`}));return r.a.createElement(s.a.Row,{className:"plays-row"},r.a.createElement(s.a.Cell,{className:"plays-row-header"},r.a.createElement("header",null,e.name),null!==e.averagePlayTime&&r.a.createElement("div",{name:"average-play-time"},"\xD8",e.averagePlayTime,"mins")),n,r.a.createElement("script",{type:"application/json",dangerouslySetInnerHTML:{__html:JSON.stringify(this.props)}}))}},p.propTypes={item:n.PropTypes.shape({id:n.PropTypes.number.isRequired,name:n.PropTypes.string.isRequired}),sessions:n.PropTypes.array.isRequired,maxSessions:n.PropTypes.number},p.defaultProps={maxSessions:10},c)},395:function(e,a,t){"use strict";var n=t(0),r=t.n(n),i=t(24),s=t(216),o=t.n(s),l=t(223),d=t.n(l),p=t(18),c=t.n(p),m=t(231),u=t(228),y=t(394);t.d(a,"a",function(){return E});var f,g,h,b;let E=(f=t.i(i.connect)(t.i(p.createStructuredSelector)({sessionsByItem:m.a,geekList:u.a})),f(g=(b=h=class extends n.Component{render(){const{sessionsByItem:e,geekList:a}=this.props;if(!a)return r.a.createElement("span",null,"Loading...");const t=[r.a.createElement(o.a.HeaderCell,{key:"header-title"},"Game")];for(let e=1;10>=e;e++)t.push(r.a.createElement(o.a.HeaderCell,{key:`header-${e}`},e));const n=[...a.items].sort((t,a)=>{let n=(e[t.id]||[]).length,r=(e[a.id]||[]).length;return r-n});return r.a.createElement(o.a,{fixed:!0,celled:!0,className:"ten-by-ten"},r.a.createElement(o.a.Header,null,r.a.createElement(o.a.Row,null,t)),r.a.createElement(o.a.Body,null,n.map((a)=>r.a.createElement(y.a,{key:a.id,item:a,sessions:e[a.id]||[]}))))}},h.propTypes={sessionsByItem:n.PropTypes.object,geekList:n.PropTypes.instanceOf(u.b)},b))||g)},396:function(e,a,t){"use strict";var n=t(0),r=t.n(n),i=t(1329),s=t.n(i);t.d(a,"a",function(){return o});let o=class extends n.Component{render(){return r.a.createElement(s.a,{className:"spinner"})}}},397:function(e,a,t){"use strict";var n=t(0),r=t.n(n),i=t(24),s=t(18),o=t.n(s),l=t(68),d=t.n(l),p=t(390),c=t(400),m=t(398),u=t(395),y=t(392),f=t(383),g=t(103);t.d(a,"a",function(){return P});var h,b,E,T;let P=(h=t.i(i.connect)(t.i(s.createStructuredSelector)({username:g.a,listId:g.b,startDate:g.c,endDate:g.d})),h(b=(T=E=class extends n.Component{render(){const{listId:e,username:a,startDate:t,endDate:n}=this.props;return r.a.createElement("div",null,r.a.createElement(c.a,null),r.a.createElement(m.a,null),r.a.createElement(p.a,{defaultUsername:a,defaultListId:e,defaultStartDate:t,defaultEndDate:n}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"row-item collapse"},r.a.createElement(y.a,null)),r.a.createElement("div",{className:"row-item"},r.a.createElement(f.a,null))),r.a.createElement(u.a,null))}},E.propTypes={listId:n.PropTypes.number.isRequired,username:n.PropTypes.string.isRequired,startDate:n.PropTypes.instanceOf(d.a),endDate:n.PropTypes.instanceOf(d.a)},T))||b)},398:function(e,a,t){"use strict";var n=t(0),r=t.n(n),i=t(24),s=t(58),o=t(18),l=t.n(o),d=t(403),p=t(103);t.d(a,"a",function(){return f});var c,m,u,y;let f=(c=t.i(i.connect)(t.i(o.createStructuredSelector)({listId:p.b}),(e)=>t.i(s.d)({requestGeekList:d.a},e)),c(m=(y=u=class extends r.a.Component{render(){const{requestGeekList:e,listId:a}=this.props;return e(a),null}},u.propTypes={listId:n.PropTypes.number.isRequired,requestGeekList:n.PropTypes.func.isRequired},y))||m)},399:function(e,a,t){"use strict";var n=t(0),r=t.n(n),i=t(24),s=t(58),o=t(227);t.d(a,"a",function(){return m});var l,d,p,c;let m=(l=t.i(i.connect)((e)=>({username:e.geekListSearch.username}),(e)=>t.i(s.d)({searchForGeekLists:o.searchForGeekLists},e)),l(d=(c=p=class extends n.Component{constructor(e){super(e),self.requestTimeout=null}render(){const{username:e,searchForGeekLists:a}=this.props;return self.requestTimeout&&(clearTimeout(self.requestTimeout),self.requestTimeout=null),e&&(self.requestTimeout=setTimeout(()=>a(e),1e3)),null}},p.propTypes={username:n.PropTypes.string,searchForGeekLists:n.PropTypes.func.isRequired},c))||d)},400:function(e,a,t){"use strict";var n=t(0),r=t.n(n),i=t(24),s=t(58),o=t(68),l=t.n(o),d=t(18),p=t.n(d),c=t(410),m=t(103);t.d(a,"a",function(){return h});var u,y,f,g;let h=(u=t.i(i.connect)(t.i(d.createStructuredSelector)({username:m.a,startDate:m.c,endDate:m.d}),(e)=>t.i(s.d)({requestPlayList:c.a},e)),u(y=(g=f=class extends n.Component{render(){const{username:e,startDate:a,endDate:t,requestPlayList:n}=this.props;return n(e,a,t),null}},f.propTypes={username:n.PropTypes.string.isRequired,startDate:n.PropTypes.instanceOf(l.a).isRequired,endDate:n.PropTypes.instanceOf(l.a).isRequired,requestPlayList:n.PropTypes.func.isRequired},g))||y)},401:function(e,a){"use strict";a.a=function(e=n,a){switch(a.type){case"GEEKLIST_SEARCH_SET_USERNAME":return t({},e,{username:a.username});case"GEEKLIST_SEARCH_SET_RESULT":return t({},e,{searchResults:t({},e.searchResults,{[a.username]:a.result})});default:return e;}};var t=Object.assign||function(e){for(var a,t=1;t<arguments.length;t++)for(var n in a=arguments[t],a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);return e};const n={username:"",searchResults:{}}},402:function(e,a,t){"use strict";var n=t(18),r=t.n(n);const i=(e)=>e.geekListSearch.username;a.a=i;const s=t.i(n.createSelector)([i,(e)=>e.geekListSearch.searchResults],(e,a)=>{return e?e in a?a[e]:null:null});a.b=s},403:function(e,a,t){"use strict";function n(e){return{type:"GEEK_LIST_ADD",item:e}}var r=t(146),i=t(229);a.a=function(e){return async(a)=>{const s=`geekList/${e}`,o=await a(t.i(r.a)(s,`/xmlapi/geeklist/${e}`)),l=await o.text(),d=new DOMParser,p=d.parseFromString(l,"application/xml"),c=p.querySelector("geeklist"),m=[];let u={id:parseInt(c.getAttribute("id")),itemIds:Array.from(c.querySelectorAll("item")).map((e)=>{const a={id:parseInt(e.getAttribute("objectid")),name:e.getAttribute("objectname")};return m.push(a),a.id})};a(t.i(i.a)(m)),a(n(u))}}},404:function(e,a,t){"use strict";var n=t(104);a.a=t.i(n.a)("GEEK_LIST")},405:function(e,a,t){"use strict";var n=t(58),r=t(404),i=t(401),s=t(406),o=t(408),l=t(411),d=t(412);const p=t.i(n.e)({geekLists:r.a,geekListSearch:i.a,items:s.a,players:o.a,plays:l.a,requests:d.a});a.a=p},406:function(e,a,t){"use strict";var n=t(104);a.a=t.i(n.a)("ITEM")},407:function(e,a){"use strict";a.a=function(e){return{type:"PLAYER_UPDATE_MANY",items:e}}},408:function(e,a,t){"use strict";var n=t(104);a.a=t.i(n.a)("PLAYER")},409:function(e,a,t){"use strict";var n=t(18),r=t.n(n),i=t(145);const s=t.i(n.createSelector)([i.b,(e)=>e.players],(e,a)=>{const t=new Set;for(const n of e)for(const e of n.players)t.add(e.id);return Array.from(t).map((e)=>a[e])});a.a=s},410:function(e,a,t){"use strict";function n(e){return{type:"PLAY_ADD_MANY",items:e}}function r(e,a,i,m=1){return async(u)=>{let y=a.format("YYYY-MM-DD"),f=i.format("YYYY-MM-DD");const g=`playList/${e}/${y}/${f}`,h=await u(t.i(p.a)(g,"/xmlapi2/plays",{username:e,page:m,mindate:y,maxdate:f})),b=await h.text(),E=new DOMParser,T=E.parseFromString(b,"application/xml"),P=T.querySelector("plays");if(!P)return void u(t.i(d.a)("error",`Could not load plays for player ${e}`));P.getAttribute("total")>m*100&&u(r(e,m+1));const x=P.getAttribute("username"),S=[],k=new Set,v=new Set;for(let e of P.querySelectorAll("play")){const a=e.querySelector("item"),n={id:parseInt(a.getAttribute("objectid")),name:a.getAttribute("name")},r=e.querySelector("comments")||null,i={creator:x,id:parseInt(e.getAttribute("id")),date:s()(e.getAttribute("date"),"YYYY-MM-DD",!0),itemId:n.id,comments:r?r.textContent:null,length:parseInt(e.getAttribute("length")),players:[]};isNaN(i.length)&&(i.length=null);let o=[],l=e.querySelector("players");l&&(o=Array.from(l.querySelectorAll("player")));for(const e of o){let a={id:e.getAttribute("userid"),username:e.getAttribute("username"),name:e.getAttribute("name")};"0"===a.id&&(a.username?a.id=`ext-username-${a.username}`:a.name?a.id=`ext-name-${a.name}`:a.id=`ext-anon-${t.i(c.a)()}`),v.add(a);const n={id:a.id,startPosition:e.getAttribute("startPosition"),color:e.getAttribute("color"),score:parseFloat(e.getAttribute("score")),newPlayer:"1"===e.getAttribute("new"),win:"1"===e.getAttribute("win")};isNaN(n.score)&&(n.score=null),i.players.push(n)}k.add(n),S.push(i)}u(t.i(o.a)(Array.from(k))),u(t.i(l.a)(Array.from(v))),u(n(Array.from(S)))}}var i=t(68),s=t.n(i),o=t(229),l=t(407),d=t(414),p=t(146),c=t(233);a.a=r},411:function(e,a,t){"use strict";var n=t(104);a.a=t.i(n.a)("PLAY")},412:function(e,a){"use strict";a.a=function(e={},a){switch(a.type){case"REQUEST_START":return t({},e,{[a.requestId]:{inProgress:!0,error:null}});case"REQUEST_SUCCESS":return t({},e,{[a.requestId]:{inProgress:!1,error:null}});case"REQUEST_FAIL":return t({},e,{[a.requestId]:{inProgress:!1,error:a.error}});case"REQUEST_PENDING":return t({},e,{[a.requestId]:{inProgress:!0,error:null}});default:return e;}};var t=Object.assign||function(e){for(var a,t=1;t<arguments.length;t++)for(var n in a=arguments[t],a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);return e}},413:function(e,a,t){"use strict";var n=t(18),r=t.n(n);const i=t.i(n.createSelector)([(e)=>e.requests],(e)=>0<Object.values(e).filter((e)=>e.inProgress).length);a.a=i},414:function(e,a,t){"use strict";var n=t(233);a.a=function(e,a){return{type:"TOAST_SHOW",id:t.i(n.a)(),level:e,message:a}}},415:function(e,a,t){"use strict";var n=t(58),r=t(1364),i=t.n(r),s=t(1363),o=t.n(s),l=t(101),d=t.n(l),p=t(405),c=t(226);a.a=function(){const e=t.i(n.c)(p.a,null,h),a=e.getState().router;return e.dispatch(t.i(l.initializeCurrentLocation)({pathname:"fakepathname"})),e.dispatch(t.i(l.initializeCurrentLocation)(a)),e};var m=Object.assign||function(e){for(var a,t=1;t<arguments.length;t++)for(var n in a=arguments[t],a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);return e};const u=-1!==window.location.hostname.indexOf("github.io");console.log("onGithub",u);const{routerEnhancer:y,routerMiddleware:f}=t.i(l.routerForBrowser)({routes:c.a,basename:u?"/tenbyten":void 0}),g=o()({collapsed:!0,duration:!0,timestamp:!0}),h=t.i(n.a)(y,t.i(n.b)(()=>(e)=>(a)=>{if(a.type!==l.LOCATION_CHANGED)return e(a);const n=m({},a),r=n.payload;if(r.pathname.startsWith(r.basename)){const e=r.basename.length;r.pathname=r.pathname.slice(e);const a=t.i(l.createMatcher)(c.a)(r.pathname);a&&(n.payload=m({},r,a))}return e(n)},f,i.a,g))},416:function(e,a){"use strict";a.a=function(e,a){return(t=e,n)=>{return n.type in a?a[n.type](t,n):t}}},417:function(e,a){"use strict";a.a="953f899bd997fb06fb7220b370203b1c68c226cb"},496:function(e,a,t){a=e.exports=t(44)(void 0),a.push([e.i,"html,\nbody,\n#container,\n.root,\n.wrapper {\n  min-height: 100vh;\n}\n\n.wrapper {\n  padding: 1rem;\n  display: flex;\n  flex-direction: column;\n}\n\n.navbar {\n  border-bottom: 1px solid rgba(0, 0, 0, 0.2);\n  margin-bottom: 20px;\n  flex: 0 0;\n}\n\n.navbar a,\n.navbar a:link,\n.navbar a:hover,\n.navbar a:active,\n.navbar a:visited {\n  color: #000;\n  text-decoration: none\n}\n\n.logo {\n  font-weight: bold;\n}\n\n.content {\n  flex: 1 1 100%;\n}\n\n.loading-indicator {\n  height: 0.2rem;\n  position: fixed;\n  top: 0;\n  left: 0;\n  margin: 0;\n  z-index: 1031;\n  transform: translate(100%, 0);\n  background: #00f;\n  width: 80%;\n  transition: all 1s;\n  opacity: 0.0;\n}\n\n.loading-indicator.active {\n  animation: loading-bar 2s infinite linear;\n  opacity: 1.0;\n}\n\n@keyframes loading-bar {\n  0% {\n    transform: translate(-100%, 0);\n  }\n\n  100% {\n    transform: translate(100%, 0);\n  }\n}\n\n.plays-row-header header {\n  font-weight: bold;\n}\n\n.play-cell {\n  display: flex;\n}\n\n.info-set {\n  flex: 1 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n}\n\n.icon-set {\n  display: flex;\n  flex: 0 0;\n  flex-direction: column;\n}\n\n.icon-set > * {\n  width: 16px;\n}\n\n.players-list {\n  display: flex;\n}\n\n.ui.label.player-label {\n  display: inline-flex;\n  align-items: center;\n  padding: 5px 5px 5px 7px;\n}\n\n.ui.label.player-label > .detail {\n  margin-left: 5px;\n}\n\n.ui.label.score-label {\n  display: inline-flex;\n  justify-content: flex-start;\n  align-items: center;\n  padding: 3px 3px 3px 6px;\n  margin: 1px;\n  min-width: 65px;\n}\n\n.ui.label.score-label > .points {\n  flex: 1 1 100%;\n  text-align: right;\n}\n\n.ui.label.score-label > .detail {\n  flex: 0 1;\n  margin-left: 5px;\n}\n\n.row {\n  display: flex;\n}\n\n.row-item {\n  flex: 1 1;\n}\n\n.row-item.collapse {\n  flex: 0 1;\n}\n\n.row-item:not(:last-child) {\n  margin-right: 10px;\n}\n\n.spinner {\n  animation: spinner 1.5s infinite linear;\n}\n\n@keyframes spinner {\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n}\n\n.ChallengeProgress {\n  display: flex;\n  justify-content: space-between;\n  border-radius: 5px;\n  position: relative;\n  height: 30px;\n  background-color: #e6e6e6;\n}\n\n.ChallengeProgress .bar {\n  color: #888;\n  height: 20px;\n  position: absolute;\n  transition: 0.4s all linear;\n}\n\n.ChallengeProgress .bar.progress {\n  background-color: #21ba45;\n  top: 0;\n  height: 88%;\n  color: #fff;\n  border-radius: 5px 5px 5px 0;\n}\n\n.ChallengeProgress.behindTarget .bar.progress {\n  background-color: #db2828;\n  border-radius: 5px 5px 0 0;\n}\n\n.ChallengeProgress .bar.target {\n  background-color: #777;\n  bottom: 0%;\n  height: 9%;\n  color: #000;\n  border-radius: 0 0 5px 5px;\n}\n\n.ChallengeProgress .text {\n  position: relative;\n  flex-grow: 0;\n  padding: 0 5px;\n  line-height: 26px;\n  white-space: nowrap;\n  transition: 0.4s all linear;\n}\n\n.ChallengeProgress .text.progress {\n  text-align: right;\n}\n\nfooter {\n  flex: 0 0;\n  opacity: 0.8;\n  margin-top: 1rem;\n}\n\n.commit-info {\n  margin-bottom: -3px;\n}\n\n.commit-info .commit-hash-left,\n.commit-info .commit-hash-right {\n  font-family: monospace;\n  clip-path: inset(0 100% 0 0);\n}\n\n.commit-info .commit-hash-left {\n  transition: clip-path 0.2s;\n}\n\n.commit-info .commit-hash-right {\n  transition: clip-path 0.4s linear;\n}\n\n.commit-info .commit-hash-left[data-expand=\"1\"],\n.commit-info .commit-hash-left[data-expand=\"2\"] {\n  clip-path: inset(0);\n}\n\n.commit-info .commit-hash-right[data-expand=\"2\"] {\n  clip-path: inset(0);\n}\n",""])}},[1436]);
//# sourceMappingURL=main-0f49c5f1c4e406e3c200.js.map