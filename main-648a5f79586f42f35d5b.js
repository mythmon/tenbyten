webpackJsonp([0],{103:function(e,a,t){"use strict";var n=t(19),r=t.n(n),i=t(67),s=t.n(i);const o=(e)=>e.router.params,l=(e)=>e.router.query,d=t.i(n.createSelector)([o],(e)=>e.username);a.a=d;const p=t.i(n.createSelector)([o],(e)=>parseInt(e.listId));a.b=p;const c=t.i(n.createSelector)([l],(e)=>{let a=s()(e.startDate,"YYYY-MM-DD");return a.isValid()||(a=s()().startOf("year")),a});a.c=c;const m=t.i(n.createSelector)([l],(e)=>{let a=s()(e.endDate,"YYYY-MM-DD");return a.isValid()||(a=s()().endOf("year")),a});a.d=m},1036:function(e){e.exports="/tenbyten/assets/8ea47d16fe7113f1c23637e41cec872e.svg"},104:function(e,a,t){"use strict";a.a=function(e){const a={};return a[e+"_UPDATE"]=(e,{item:a})=>r({},e,{[a.id]:r({},e[a.id],a)}),a[e+"_UPDATE_MANY"]=(e,{items:a})=>{const t=r({},e);for(let n of a)t[n.id]=r({},t[n.id],n);return t},a[e+"_ADD"]=(e,{item:a})=>r({},e,{[a.id]:r({},a)}),a[e+"_ADD_MANY"]=(e,{items:a})=>{const t=r({},e);for(const n of a)t[n.id]=r({},n);return t},t.i(n.a)({},a)};var n=t(419),r=Object.assign||function(e){for(var a,t=1;t<arguments.length;t++)for(var n in a=arguments[t],a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);return e}},1243:function(e){function a(e){throw new Error("Cannot find module '"+e+"'.")}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id=1243},1444:function(e,a,t){t(379),t(381),t(382),t(383),e.exports=t(380)},147:function(e,a,t){"use strict";function n(e,a,t,n,r){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(t,n){return n(e,a,t)||t},i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,a,i),i=null),i}var r,i=t(19),s=t.n(i),o=t(257),l=t.n(o),d=t(149),p=t(233),c=t(229),m=t(231),u=Object.assign||function(e){for(var a,t=1;t<arguments.length;t++)for(var n in a=arguments[t],a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);return e};let y=(r=class extends d.a{get collection(){return this.state.plays}get date(){return this.data.date}get creator(){return this.data.creator}get item(){return new m.a(this.state,this.data.itemId)}get comments(){return this.data.comments}get commentsParsed(){if(this.comments&&""!==this.comments)try{let e=l.a.safeLoad(this.comments);if("object"==typeof e)return e}catch(a){}return null}get length(){return this.data.length}get players(){return this.data.players.map((e)=>u({},this.state.players[e.id],e))}},n(r.prototype,"commentsParsed",[p.a],Object.getOwnPropertyDescriptor(r.prototype,"commentsParsed"),r.prototype),n(r.prototype,"players",[p.a],Object.getOwnPropertyDescriptor(r.prototype,"players"),r.prototype),r);const f=t.i(i.createSelector)((e)=>e.router.params.username,(e)=>{const a=Object.keys(e.plays).map((a)=>new y(e,a));return a.sort((e,a)=>{return+e.date>+a.date?1:+e.date<+a.date?-1:0}),a},c.a,(e,a,t)=>{let n=a.filter((a)=>a.creator===e);if(t){const e=new Set(t.items.map((e)=>e.id));n=n.filter((a)=>e.has(a.item.id))}return n});a.b=f;const g=t.i(i.createSelector)(f,(e)=>{const a={};for(const t of e){const e=t.item.id;e in a||(a[e]=[]),a[e].push(t)}return a});a.a=g},148:function(e,a){"use strict";function t(a,e,l={}){return async(d)=>{let p=new URL(o+e);for(let e in l)p.searchParams.set(e,l[e]);d(n(a));try{const n=await fetch(p);if(400<=n.state){let t=new Error((await n.text()));throw t.response=n,d(i(a,t)),t}else return 202===n.state?(d(s(a)),new Promise((e)=>{setTimeout(()=>e(d(t)),5e3)})):(d(r(a)),n)}catch(t){throw d(i(a,t)),t}}}function n(e){return{type:"REQUEST_START",requestId:e}}function r(e){return{type:"REQUEST_SUCCESS",requestId:e}}function i(e,a){return{type:"REQUEST_FAIL",requestId:e,error:a}}function s(e){return{type:"REQUEST_PENDING",requestId:e}}a.a=t;const o="https://cors-anywhere.herokuapp.com/https://www.boardgamegeek.com"},149:function(e,a,t){"use strict";t.d(a,"a",function(){return n});let n=class{constructor(e,a){if(void 0===e)throw new Error("State cannot be undefined");if(void 0===a)throw new Error("ID cannot be undefined");if(this.state=e,this.id=a,void 0===this.data)throw new Error(`ID ${this.id} not found in collection`)}get collection(){throw new Error("not implemented")}get data(){return this.collection[this.id]}}},150:function(e,a,t){"use strict";function n({name:e,username:a,id:t}){return e||a||t}a.b=n,a.c=function(e){return n(e).slice(0,1).toUpperCase()},a.a=function({name:e,username:a,id:t}){let n=i()("sha256").update(t||"").update(e||"").update(a||""),r=parseInt(n.digest("hex"),16);return s.COLORS[r%s.COLORS.length]};var r=t(1429),i=t.n(r),s=t(372),o=t.n(s)},226:function(e,a,t){"use strict";t.d(a,"a",function(){return m});var n,r,i=t(0),s=t.n(i),o=t(73),l=t.n(o),d=t(223),p=t.n(d),c=t(150);let m=(r=n=class extends s.a.Component{render(){const{player:e}=this.props;return s.a.createElement(l.a,{circular:!0,color:t.i(c.a)(e),size:"mini",title:t.i(c.b)(e)},t.i(c.c)(e))}},n.propTypes={player:i.PropTypes.object.isRequired},r)},227:function(e,a,t){"use strict";var n=t(0),r=t.n(n),i=t(101),s=t.n(i),o=t(400),l=t(391);a.a={"/":{},"/table/:listId/:username/":{}};const d=r.a.createElement("div",null,r.a.createElement(i.RelativeFragment,{forRoute:"/",withConditions:(e)=>"/"===e.pathname},r.a.createElement(l.a,null)),r.a.createElement(i.RelativeFragment,{forRoute:"/table/:listId/:username/"},r.a.createElement(o.a,null)));a.b=d},228:function(e,a,t){"use strict";function n(e,a){return{type:"GEEKLIST_SEARCH_SET_RESULT",username:e,result:a}}Object.defineProperty(a,"__esModule",{value:!0}),a.setSearchUsername=function(e){return{type:"GEEKLIST_SEARCH_SET_USERNAME",username:e}},a.setGeekListSearchResult=n,a.searchForGeekLists=function(e){return async(a)=>{a(n(e,{status:"pending",list:[]}));const i=`geekListSearch/${e}`,s=await a(t.i(r.a)(i,`/geeklist/lists/user/${e}`)),o=await s.text(),l=new DOMParser,d=l.parseFromString(o,"text/html"),p=d.querySelector(".messagebox.error");if(p)return void a(n(e,{status:"error",list:[],detail:p.textContent.trim()}));const c=Array.prototype.slice.call(d.querySelectorAll(".forum_table tbody tr"),1),m=[],u=/^\/geeklist\/(\d+)\/(.*)$/;for(let e of c){const a=e.querySelector(".mf a");m.push({title:a.textContent.trim(),id:parseInt(a.getAttribute("href").match(u)[1])})}a(n(e,{status:"success",list:m}))}};var r=t(148)},229:function(e,a,t){"use strict";t.d(a,"b",function(){return i});var n=t(231),r=t(149);let i=class extends r.a{get collection(){return this.state.geekLists}get items(){return this.data.itemIds.map((e)=>{return new n.a(this.state,e)})}};a.a=(e)=>{const a=e.router.params.listId;return a in e.geekLists?new i(e,a):null}},230:function(e,a){"use strict";a.a=function(e){return{type:"ITEM_UPDATE_MANY",items:e}}},231:function(e,a,t){"use strict";t.d(a,"a",function(){return o});var n,r=t(149),i=t(233),s=t(147);let o=(n=class extends r.a{get collection(){return this.state.items}get name(){return this.data.name}get averagePlayTime(){const e=t.i(s.a)(this.state),a=e[this.id]||[];let n=null;const r=a.map((e)=>e.length).filter((e)=>0<e);return 0<r.length&&(n=Math.round(r.reduce((e,a)=>e+a,0)/r.length)),n}},function(e,a,t,n,r){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(t,n){return n(e,a,t)||t},i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,a,i),i=null),i}(n.prototype,"averagePlayTime",[i.a],Object.getOwnPropertyDescriptor(n.prototype,"averagePlayTime"),n.prototype),n)},232:function(e,a,t){"use strict";var n=t(19),r=t.n(n),i=t(147);const s=t.i(n.createSelector)([i.b],(e)=>{const a={};for(const t of e){const e=`${t.date.format("YYYY-MM-DD")};${t.item.id}`;e in a||(a[e]=[]),a[e].push(t)}return Object.values(a).map((e)=>({plays:e,date:e[0].date,item:e[0].item}))});a.b=s;const o=t.i(n.createSelector)([s],(e)=>{const a={};for(const t of e){const e=t.item.id;e in a||(a[e]=[]),a[e].push(t)}return a});a.a=o},233:function(e,a){"use strict";a.a=function(e,a,t){const n=Symbol("_"+a),r=t.get;t.get=function(){return void 0===this[n]&&(this[n]=r.call(this)),this[n]}}},234:function(e,a){"use strict";a.a=function(){return t++};let t=1},379:function(){(function(){const e=sessionStorage.redirect;delete sessionStorage.redirect,e&&e!==location.href&&(console.log(`redirecting to ${e} for GHSPA fallback`),history.replaceState(null,null,e))})()},380:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=t(327),r=t.n(n),i=t(384);if(0===window.location.hash.indexOf("#/")){console.log("Redirecting hash URL to HTML5 URL",window.location,window.location.hash);let e=window.location.hash.slice(1);const a=-1!==window.location.hostname.indexOf("github.io");a&&(e="/tenbyten"+e),window.location=e}const s=t.i(i.a)();let o=document.querySelector("#container");r.a.render(s.rootComponent,o)},383:function(e,a,t){var n=t(504);"string"==typeof n&&(n=[[e.i,n,""]]);t(48)(n,{});n.locals&&(e.exports=n.locals),!1},384:function(e,a,t){"use strict";a.a=function(){const e=t.i(p.a)();return{store:e,rootComponent:s.a.createElement(m,{store:e,history:history})}};var n,r,i=t(0),s=t.n(i),o=t(25),l=t(101),d=t.n(l),p=t(418),c=t(385);let m=(r=n=class extends i.Component{render(){const{store:e}=this.props;return s.a.createElement(o.Provider,{store:e},s.a.createElement(l.RouterProvider,{store:e},s.a.createElement(c.a,null)))}},n.propTypes={store:i.PropTypes.object.isRequired},r)},385:function(e,a,t){"use strict";t.d(a,"a",function(){return d});var n=t(0),r=t.n(n),i=t(390),s=t(392),o=t(387),l=t(227);let d=class extends n.Component{render(){return r.a.createElement("div",{className:"root"},r.a.createElement(s.a,null),r.a.createElement("div",{className:"wrapper"},r.a.createElement(i.a,null),r.a.createElement("div",{className:"content"},l.b),r.a.createElement(o.a,null)))}}},386:function(e,a,t){"use strict";var n=Math.floor;t.d(a,"a",function(){return b});var r,i,s,o,l=t(0),d=t.n(l),p=t(25),c=t(19),m=t.n(c),u=t(67),y=t.n(u),f=t(4),g=t.n(f),h=t(232),E=t(103);let b=(r=t.i(p.connect)(t.i(c.createStructuredSelector)({sessions:h.b,startDate:E.c,endDate:E.d})),r(i=(o=s=class extends l.Component{render(){const{sessions:e,startDate:a,endDate:t}=this.props,r=100,i=e.length,s=n(100*(i/r)),o=y()().diff(a)/t.diff(a),l=Math.ceil(o*r),p=n(100*(l/r));let c=i<l;return d.a.createElement("div",{className:g()("ChallengeProgress",{behindTarget:c})},d.a.createElement("div",{className:"progress bar",style:{width:`${s}%`}}),d.a.createElement("div",{className:"target bar",style:{width:`${p}%`}}),d.a.createElement("span",{className:"progress text",style:{flexBasis:`${s}%`}},"Played: ",i),c&&d.a.createElement("span",{className:"target text",style:{flexBasis:`${100-p}%`}},"Target: ",l))}},s.propTypes={sessions:l.PropTypes.array.isRequired,startDate:l.PropTypes.instanceOf(y.a).isRequired,endDate:l.PropTypes.instanceOf(y.a).isRequired},o))||i)},387:function(e,a,t){"use strict";t.d(a,"a",function(){return s});var n=t(0),r=t.n(n),i=t(420);let s=class extends n.Component{render(){return r.a.createElement("footer",null,r.a.createElement("a",{href:"https://github.com/mythmon/tenbyten"},"Source on GitHub")," \u2014 ",r.a.createElement("span",{className:"commit-info"},i.a.slice(0,7)))}}},388:function(e,a,t){"use strict";t.d(a,"a",function(){return d});var n,r,i=t(0),s=t.n(i),o=t(101),l=t.n(o);let d=(r=n=class extends s.a.Component{render(){const{title:e,id:a,creator:t}=this.props;return s.a.createElement("div",null,s.a.createElement(o.Link,{href:`/table/${a}/${t}/`},e))}},n.propTypes={title:i.PropTypes.string.isRequired,creator:i.PropTypes.string.isRequired,id:i.PropTypes.number.isRequired},r)},389:function(e,a,t){"use strict";t.d(a,"a",function(){return D});var n,r,i,s,o,l=t(0),d=t.n(l),p=t(58),c=t(25),m=t(19),u=t.n(m),y=t(368),f=t.n(y),g=t(378),h=t.n(g),E=t(235),b=t.n(E),T=t(228),P=t(402),x=t(388),S=t(399),k=t(405),v=Object.assign||function(e){for(var a,t=1;t<arguments.length;t++)for(var n in a=arguments[t],a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);return e};let D=(n=t.i(c.connect)(t.i(m.createStructuredSelector)({username:k.a,searchResults:k.b}),(e)=>t.i(p.d)(T,e)),n(r=(i=(o=s=class extends d.a.Component{handleChange(e){this.props.setSearchUsername(e.currentTarget.value)}render(){const{username:e,searchResults:a}=this.props;return d.a.createElement("div",null,d.a.createElement(P.a,null),d.a.createElement(f.a,{size:"mini"},d.a.createElement(f.a.Group,{inline:!0},d.a.createElement(f.a.Input,{label:"Username",name:"username",value:e,onChange:this.handleChange,autoComplete:"off"}),a&&"pending"===a.status&&d.a.createElement(S.a,null))),a&&"success"===a.status&&d.a.createElement("ul",null,a.list.map((a)=>d.a.createElement(x.a,v({key:a.id},a,{creator:e})))))}},s.propTypes={username:l.PropTypes.string.isRequired,searchResults:l.PropTypes.shape({list:l.PropTypes.array.isRequired,status:l.PropTypes.string.isRequired,detail:l.PropTypes.string}),setSearchUsername:l.PropTypes.func.isRequired},o),function(e,a,t,n,r){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(t,n){return n(e,a,t)||t},i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,a,i),i=null),i}(i.prototype,"handleChange",[E.autobind],Object.getOwnPropertyDescriptor(i.prototype,"handleChange"),i.prototype),i))||r)},390:function(e,a,t){"use strict";a.a=function(){return r.a.createElement("nav",{className:"navbar"},r.a.createElement(i.Link,{href:"/"},r.a.createElement("span",{className:"logo"},"10\xD710")))};var n=t(0),r=t.n(n),i=t(101),s=t.n(i)},391:function(e,a,t){"use strict";t.d(a,"a",function(){return s});var n=t(0),r=t.n(n),i=t(389);let s=class extends n.Component{render(){return r.a.createElement("div",null,r.a.createElement("h1",null,"10x10 challenge"),r.a.createElement("p",null,"Use the controls below to choose a Geeklist to get games from, and a user to get plays from."),r.a.createElement(i.a,null))}}},392:function(e,a,t){"use strict";t.d(a,"a",function(){return f});var n,r,i,s,o=t(0),l=t.n(o),d=t(25),p=t(19),c=t.n(p),m=t(4),u=t.n(m),y=t(416);let f=(n=t.i(d.connect)(t.i(p.createStructuredSelector)({isLoading:y.a})),n(r=(s=i=class extends o.Component{render(){const{isLoading:e}=this.props;return l.a.createElement("div",{className:u()("loading-indicator",{active:e})})}},i.propTypes={isLoading:o.PropTypes.bool.isRequired},s))||r)},393:function(e,a,t){"use strict";function n(e,a,t,n,r){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(t,n){return n(e,a,t)||t},i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,a,i),i=null),i}t.d(a,"a",function(){return E});var r,i,s,o=t(0),l=t.n(o),d=t(368),p=t.n(d),c=t(378),m=t.n(c),u=t(67),y=t.n(u),f=t(235),g=t.n(f);const h="YYYY-MM-DD";let E=(r=(s=i=class extends o.Component{constructor(e){super(e);const a=e.defaultStartDate,t=e.defaultEndDate;this.state={name:e.defaultUsername||"",list:(e.defaultListId||"").toString(),startDate:a?a.format(h):"",endDate:t?t.format(h):""}}handleChange(e){this.setState({[e.target.name]:e.target.value})}navigate(e){e.preventDefault();const{name:a,list:t,startDate:n,endDate:r}=this.state,i=-1!==window.location.hostname.indexOf("github.io");let s=`/table/${t}/${a}/?startDate=${n}&endDate=${r}`;i&&(s="/tenbyten"+s),window.location=s}render(){const{name:e,list:a,startDate:t,endDate:n}=this.state;return l.a.createElement("div",null,l.a.createElement(p.a,{size:"mini",onSubmit:this.navigate},l.a.createElement(p.a.Group,{inline:!0},l.a.createElement(p.a.Input,{label:"Username",name:"name",value:e,onChange:this.handleChange}),l.a.createElement(p.a.Input,{label:"Geeklist ID",name:"list",value:a,onChange:this.handleChange}),l.a.createElement(p.a.Input,{label:"Start Date",name:"startDate",value:t,onChange:this.handleChange}),l.a.createElement(p.a.Input,{label:"End Date",name:"endDate",value:n,onChange:this.handleChange}),l.a.createElement(p.a.Button,{type:"submit",size:"mini"},"Go"))))}},i.propTypes={defaultUsername:o.PropTypes.string,defaultListId:o.PropTypes.number,defaultStartDate:o.PropTypes.instanceOf(y.a),defaultEndDate:o.PropTypes.instanceOf(y.a)},s),n(r.prototype,"handleChange",[f.autobind],Object.getOwnPropertyDescriptor(r.prototype,"handleChange"),r.prototype),n(r.prototype,"navigate",[f.autobind],Object.getOwnPropertyDescriptor(r.prototype,"navigate"),r.prototype),r)},394:function(e,a,t){"use strict";t.d(a,"a",function(){return u});var n,r,i=t(0),s=t.n(i),o=t(73),l=t.n(o),d=t(223),p=t.n(d),c=t(226),m=t(150);let u=(r=n=class extends i.Component{render(){const{player:e}=this.props;return s.a.createElement(l.a,{basic:!0,color:m.a(e),className:"player-label"},m.b(e),s.a.createElement(l.a.Detail,null,s.a.createElement(c.a,{player:e})))}},n.propTypes={player:i.PropTypes.shape({id:i.PropTypes.string.isRequired,name:i.PropTypes.string,username:i.PropTypes.string}).isRequired},r)},395:function(e,a,t){"use strict";t.d(a,"a",function(){return y});var n,r,i,s,o=t(0),l=t.n(o),d=t(25),p=t(19),c=t.n(p),m=t(412),u=t(394);let y=(n=t.i(d.connect)(t.i(p.createStructuredSelector)({players:m.a})),n(r=(s=i=class extends o.Component{render(){const{players:e}=this.props;return l.a.createElement("div",{className:"players-list"},e.map((e)=>l.a.createElement(u.a,{player:e,key:e.id})))}},i.propTypes={players:o.PropTypes.arrayOf(o.PropTypes.shape({id:o.PropTypes.string.isRequired,username:o.PropTypes.string,name:o.PropTypes.string})).isRequired},s))||r)},396:function(e,a,t){"use strict";t.d(a,"a",function(){return _});var n,r,i=t(0),s=t.n(i),o=t(217),l=t.n(o),d=t(224),p=t.n(d),c=t(73),m=t.n(c),u=t(223),y=t.n(u),f=t(257),g=t.n(f),h=t(1225),E=t.n(h),b=t(1327),T=t(1334),P=t.n(T),x=t(1332),S=t.n(x),k=t(1333),v=t.n(k),D=t(1331),C=t.n(D),R=t(1036),q=t.n(R),w=t(226),L=t(150),A=Object.assign||function(e){for(var a,t=1;t<arguments.length;t++)for(var n in a=arguments[t],a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);return e};const I=t.i(b.a)(s.a,{useCssModules:!1});let _=(r=n=class extends s.a.Component{render(){const{session:e}=this.props;let a=[],t=[];if(a.push(s.a.createElement("div",{name:"date",key:"date"},e.date.format("MMM Do"))),1===e.plays.length){const n=e.plays[0];let r={};if(n.commentsParsed?r=A({},n.commentsParsed):n.comments&&""!==n.comments.trim()&&t.push(s.a.createElement("span",{name:"comments",key:"comments",title:n.comments},s.a.createElement(S.a,null))),"score"in r&&(a.push(s.a.createElement("div",{name:"score",key:"score"},r.score," points")),delete r.score),n.players.length){const[e,t]=E.a.partition(n.players,(e)=>"number"==typeof e.score);e.sort((e,a)=>a.score-e.score),a.push(s.a.createElement("div",{name:"players",key:"players"},e.map((e,a)=>s.a.createElement(m.a,{key:`player-score-${e.id}-${a}`,basic:!0,color:L.a(e),className:"score-label"},s.a.createElement("span",{className:"points"},Math.floor(e.score),"pts"),s.a.createElement(m.a.Detail,null,s.a.createElement(w.a,{player:e})))),t.map((e,a)=>s.a.createElement(w.a,{key:`player-noscore-${e.id}-${a}`,player:e}))))}if("state"in r&&"high"===r.state&&(t.push(s.a.createElement("img",{name:"state-high",key:"state-high",src:q.a,title:"State: High"})),delete r.state),"board"in r){const e={germany:"de",europe:"eu",america:"us"}[r.board.toLowerCase()];console.log(`board: ${r.board} -> ${e}`),e&&(t.push(s.a.createElement("span",{name:`board-${e}`,key:`board-${e}`,title:`board: ${r.board}`},s.a.createElement(I,{code:e,size:"12"}))),delete r.board)}r.expansions&&-1!==r.expansions.indexOf("robots")&&(t.push(s.a.createElement("span",{name:"expansion-robots",key:"expansion-robots",title:"Expansion: Robots"},s.a.createElement(C.a,null))),r.expansions=r.expansions.filter((e)=>"robots"!==e)),r.expansions&&0===r.expansions.length&&delete r.expansions,0<Object.keys(r).length&&t.unshift(s.a.createElement("span",{name:"extra",key:"extra",title:g.a.safeDump(r)},s.a.createElement(P.a,null))),0===n.players.length&&t.push(s.a.createElement("span",{name:"warning-players",key:"warning-players",title:"No players recorded"},s.a.createElement(v.a,null)))}else{a.push(s.a.createElement("div",{name:"plays-count",key:"plays-count"},e.plays.length,"          plays"));const t={},n={};for(const a of e.plays){let e=null,r=-Infinity;for(const n of a.players)n.id in t||(t[n.id]=n),n.score&&n.score>r&&(r=n.score,e=n);e&&(n[e.id]=(n[e.id]||0)+1)}const[r,i]=E.a.partition(Object.values(t),(e)=>!!n[e.id]);a.push(s.a.createElement("div",{name:"players",key:"players"},r.map((e,a)=>s.a.createElement(m.a,{key:`player-wins-${e.id}-${a}`,basic:!0,color:L.a(e),className:"score-label"},s.a.createElement("span",{className:"points"},n[e.id],"                wins"),s.a.createElement(m.a.Detail,null,s.a.createElement(w.a,{player:e})))),i.map((e,a)=>s.a.createElement(w.a,{key:`player-noscore-${e.id}-${a}`,player:e}))))}return s.a.createElement(l.a.Cell,null,s.a.createElement("script",{type:"application/json",dangerouslySetInnerHTML:{__html:JSON.stringify(e)}}),s.a.createElement("div",{className:"play-cell"},s.a.createElement("div",{className:"info-set"},a),s.a.createElement("div",{className:"icon-set"},t)))}},n.propTypes={session:i.PropTypes.object.isRequired},n.defaultProps={maxPlays:10,showOverflow:!0},r)},397:function(e,a,t){"use strict";t.d(a,"a",function(){return m});var n,r,i=t(0),s=t.n(i),o=t(217),l=t.n(o),d=t(224),p=t.n(d),c=t(396);let m=(r=n=class extends i.Component{render(){const{item:e,sessions:a,maxSessions:t}=this.props,n=[];for(let e of a.slice(0,t))n.push(s.a.createElement(c.a,{key:`${e.date}-${e.item.id}`,session:e}));for(;n.length<t;)n.push(s.a.createElement(l.a.Cell,{key:`empty-play-${n.length}`}));return s.a.createElement(l.a.Row,{className:"plays-row"},s.a.createElement(l.a.Cell,{className:"plays-row-header"},s.a.createElement("header",null,e.name),null!==e.averagePlayTime&&s.a.createElement("div",{name:"average-play-time"},"\xD8",e.averagePlayTime,"mins")),n,s.a.createElement("script",{type:"application/json",dangerouslySetInnerHTML:{__html:JSON.stringify(this.props)}}))}},n.propTypes={item:i.PropTypes.shape({id:i.PropTypes.number.isRequired,name:i.PropTypes.string.isRequired}),sessions:i.PropTypes.array.isRequired,maxSessions:i.PropTypes.number},n.defaultProps={maxSessions:10},r)},398:function(e,a,t){"use strict";t.d(a,"a",function(){return b});var n,r,i,s,o=t(0),l=t.n(o),d=t(25),p=t(217),c=t.n(p),m=t(224),u=t.n(m),y=t(19),f=t.n(y),g=t(232),h=t(229),E=t(397);let b=(n=t.i(d.connect)(t.i(y.createStructuredSelector)({sessionsByItem:g.a,geekList:h.a})),n(r=(s=i=class extends o.Component{render(){const{sessionsByItem:e,geekList:a}=this.props;if(!a)return l.a.createElement("span",null,"Loading...");const t=[l.a.createElement(c.a.HeaderCell,{key:"header-title"},"Game")];for(let e=1;10>=e;e++)t.push(l.a.createElement(c.a.HeaderCell,{key:`header-${e}`},e));const n=[...a.items].sort((t,a)=>{let n=(e[t.id]||[]).length,r=(e[a.id]||[]).length;return r-n});return l.a.createElement(c.a,{fixed:!0,celled:!0,className:"ten-by-ten"},l.a.createElement(c.a.Header,null,l.a.createElement(c.a.Row,null,t)),l.a.createElement(c.a.Body,null,n.map((a)=>l.a.createElement(E.a,{key:a.id,item:a,sessions:e[a.id]||[]}))))}},i.propTypes={sessionsByItem:o.PropTypes.object,geekList:o.PropTypes.instanceOf(h.b)},s))||r)},399:function(e,a,t){"use strict";t.d(a,"a",function(){return o});var n=t(0),r=t.n(n),i=t(1335),s=t.n(i);let o=class extends n.Component{render(){return r.a.createElement(s.a,{className:"spinner"})}}},400:function(e,a,t){"use strict";t.d(a,"a",function(){return P});var n,r,i,s,o=t(0),l=t.n(o),d=t(25),p=t(19),c=t.n(p),m=t(67),u=t.n(m),y=t(393),f=t(403),g=t(401),h=t(398),E=t(395),b=t(386),T=t(103);let P=(n=t.i(d.connect)(t.i(p.createStructuredSelector)({username:T.a,listId:T.b,startDate:T.c,endDate:T.d})),n(r=(s=i=class extends o.Component{render(){const{listId:e,username:a,startDate:t,endDate:n}=this.props;return l.a.createElement("div",null,l.a.createElement(f.a,null),l.a.createElement(g.a,null),l.a.createElement(y.a,{defaultUsername:a,defaultListId:e,defaultStartDate:t,defaultEndDate:n}),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"row-item collapse"},l.a.createElement(E.a,null)),l.a.createElement("div",{className:"row-item"},l.a.createElement(b.a,null))),l.a.createElement(h.a,null))}},i.propTypes={listId:o.PropTypes.number.isRequired,username:o.PropTypes.string.isRequired,startDate:o.PropTypes.instanceOf(u.a),endDate:o.PropTypes.instanceOf(u.a)},s))||r)},401:function(e,a,t){"use strict";t.d(a,"a",function(){return f});var n,r,i,s,o=t(0),l=t.n(o),d=t(25),p=t(58),c=t(19),m=t.n(c),u=t(406),y=t(103);let f=(n=t.i(d.connect)(t.i(c.createStructuredSelector)({listId:y.b}),(e)=>t.i(p.d)({requestGeekList:u.a},e)),n(r=(s=i=class extends l.a.Component{render(){const{requestGeekList:e,listId:a}=this.props;return e(a),null}},i.propTypes={listId:o.PropTypes.number.isRequired,requestGeekList:o.PropTypes.func.isRequired},s))||r)},402:function(e,a,t){"use strict";t.d(a,"a",function(){return m});var n,r,i,s,o=t(0),l=t.n(o),d=t(25),p=t(58),c=t(228);let m=(n=t.i(d.connect)((e)=>({username:e.geekListSearch.username}),(e)=>t.i(p.d)({searchForGeekLists:c.searchForGeekLists},e)),n(r=(s=i=class extends o.Component{constructor(e){super(e),self.requestTimeout=null}render(){const{username:e,searchForGeekLists:a}=this.props;return self.requestTimeout&&(clearTimeout(self.requestTimeout),self.requestTimeout=null),e&&(self.requestTimeout=setTimeout(()=>a(e),1e3)),null}},i.propTypes={username:o.PropTypes.string,searchForGeekLists:o.PropTypes.func.isRequired},s))||r)},403:function(e,a,t){"use strict";t.d(a,"a",function(){return h});var n,r,i,s,o=t(0),l=t.n(o),d=t(25),p=t(58),c=t(67),m=t.n(c),u=t(19),y=t.n(u),f=t(413),g=t(103);let h=(n=t.i(d.connect)(t.i(u.createStructuredSelector)({username:g.a,startDate:g.c,endDate:g.d}),(e)=>t.i(p.d)({requestPlayList:f.a},e)),n(r=(s=i=class extends o.Component{render(){const{username:e,startDate:a,endDate:t,requestPlayList:n}=this.props;return n(e,a,t),null}},i.propTypes={username:o.PropTypes.string.isRequired,startDate:o.PropTypes.instanceOf(m.a).isRequired,endDate:o.PropTypes.instanceOf(m.a).isRequired,requestPlayList:o.PropTypes.func.isRequired},s))||r)},404:function(e,a){"use strict";a.a=function(e=n,a){switch(a.type){case"GEEKLIST_SEARCH_SET_USERNAME":return t({},e,{username:a.username});case"GEEKLIST_SEARCH_SET_RESULT":return t({},e,{searchResults:t({},e.searchResults,{[a.username]:a.result})});default:return e;}};var t=Object.assign||function(e){for(var a,t=1;t<arguments.length;t++)for(var n in a=arguments[t],a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);return e};const n={username:"",searchResults:{}}},405:function(e,a,t){"use strict";var n=t(19),r=t.n(n);const i=(e)=>e.geekListSearch.username;a.a=i;const s=t.i(n.createSelector)([i,(e)=>e.geekListSearch.searchResults],(e,a)=>{return e?e in a?a[e]:null:null});a.b=s},406:function(e,a,t){"use strict";function n(e){return{type:"GEEK_LIST_ADD",item:e}}a.a=function(e){return async(a)=>{const s=`geekList/${e}`,o=await a(t.i(r.a)(s,`/xmlapi/geeklist/${e}`)),l=await o.text(),d=new DOMParser,p=d.parseFromString(l,"application/xml"),c=p.querySelector("geeklist"),m=[];let u={id:parseInt(c.getAttribute("id")),itemIds:Array.from(c.querySelectorAll("item")).map((e)=>{const a={id:parseInt(e.getAttribute("objectid")),name:e.getAttribute("objectname")};return m.push(a),a.id})};a(t.i(i.a)(m)),a(n(u))}};var r=t(148),i=t(230)},407:function(e,a,t){"use strict";var n=t(104);a.a=t.i(n.a)("GEEK_LIST")},408:function(e,a,t){"use strict";var n=t(58),r=t(407),i=t(404),s=t(409),o=t(411),l=t(414),d=t(415);const p=t.i(n.e)({geekLists:r.a,geekListSearch:i.a,items:s.a,players:o.a,plays:l.a,requests:d.a});a.a=p},409:function(e,a,t){"use strict";var n=t(104);a.a=t.i(n.a)("ITEM")},410:function(e,a){"use strict";a.a=function(e){return{type:"PLAYER_UPDATE_MANY",items:e}}},411:function(e,a,t){"use strict";var n=t(104);a.a=t.i(n.a)("PLAYER")},412:function(e,a,t){"use strict";var n=t(19),r=t.n(n),i=t(147);const s=t.i(n.createSelector)([i.b,(e)=>e.players],(e,a)=>{const t=new Set;for(const n of e)for(const e of n.players)t.add(e.id);return Array.from(t).map((e)=>a[e])});a.a=s},413:function(e,a,t){"use strict";function n(e){return{type:"PLAY_ADD_MANY",items:e}}function r(e,a,i,m=1){return async(u)=>{let y=a.format("YYYY-MM-DD"),f=i.format("YYYY-MM-DD");const g=`playList/${e}/${y}/${f}`,h=await u(t.i(p.a)(g,"/xmlapi2/plays",{username:e,page:m,mindate:y,maxdate:f})),E=await h.text(),b=new DOMParser,T=b.parseFromString(E,"application/xml"),P=T.querySelector("plays");if(!P)return void u(t.i(d.a)("error",`Could not load plays for player ${e}`));P.getAttribute("total")>m*100&&u(r(e,m+1));const x=P.getAttribute("username"),S=[],k=new Set,v=new Set;for(let e of P.querySelectorAll("play")){const a=e.querySelector("item"),n={id:parseInt(a.getAttribute("objectid")),name:a.getAttribute("name")},r=e.querySelector("comments")||null,i={creator:x,id:parseInt(e.getAttribute("id")),date:s()(e.getAttribute("date"),"YYYY-MM-DD",!0),itemId:n.id,comments:r?r.textContent:null,length:parseInt(e.getAttribute("length")),players:[]};isNaN(i.length)&&(i.length=null);let o=[],l=e.querySelector("players");l&&(o=Array.from(l.querySelectorAll("player")));for(const e of o){let a={id:e.getAttribute("userid"),username:e.getAttribute("username"),name:e.getAttribute("name")};"0"===a.id&&(a.username?a.id=`ext-username-${a.username}`:a.name?a.id=`ext-name-${a.name}`:a.id=`ext-anon-${t.i(c.a)()}`),v.add(a);const n={id:a.id,startPosition:e.getAttribute("startPosition"),color:e.getAttribute("color"),score:parseFloat(e.getAttribute("score")),newPlayer:"1"===e.getAttribute("new"),win:"1"===e.getAttribute("win")};isNaN(n.score)&&(n.score=null),i.players.push(n)}k.add(n),S.push(i)}u(t.i(o.a)(Array.from(k))),u(t.i(l.a)(Array.from(v))),u(n(Array.from(S)))}}a.a=r;var i=t(67),s=t.n(i),o=t(230),l=t(410),d=t(417),p=t(148),c=t(234)},414:function(e,a,t){"use strict";var n=t(104);a.a=t.i(n.a)("PLAY")},415:function(e,a){"use strict";a.a=function(e={},a){switch(a.type){case"REQUEST_START":return t({},e,{[a.requestId]:{inProgress:!0,error:null}});case"REQUEST_SUCCESS":return t({},e,{[a.requestId]:{inProgress:!1,error:null}});case"REQUEST_FAIL":return t({},e,{[a.requestId]:{inProgress:!1,error:a.error}});case"REQUEST_PENDING":return t({},e,{[a.requestId]:{inProgress:!0,error:null}});default:return e;}};var t=Object.assign||function(e){for(var a,t=1;t<arguments.length;t++)for(var n in a=arguments[t],a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);return e}},416:function(e,a,t){"use strict";var n=t(19),r=t.n(n);const i=t.i(n.createSelector)([(e)=>e.requests],(e)=>0<Object.values(e).filter((e)=>e.inProgress).length);a.a=i},417:function(e,a,t){"use strict";a.a=function(e,a){return{type:"TOAST_SHOW",id:t.i(n.a)(),level:e,message:a}};var n=t(234)},418:function(e,a,t){"use strict";a.a=function(){const e=t.i(n.c)(p.a,null,h),a=e.getState().router;return e.dispatch(t.i(l.initializeCurrentLocation)({pathname:"fakepathname"})),e.dispatch(t.i(l.initializeCurrentLocation)(a)),e};var n=t(58),r=t(1371),i=t.n(r),s=t(1370),o=t.n(s),l=t(101),d=t.n(l),p=t(408),c=t(227),m=Object.assign||function(e){for(var a,t=1;t<arguments.length;t++)for(var n in a=arguments[t],a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);return e};const u=-1!==window.location.hostname.indexOf("github.io");console.log("onGithub",u);const{routerEnhancer:y,routerMiddleware:f}=t.i(l.routerForBrowser)({routes:c.a,basename:u?"/tenbyten":void 0}),g=o()({collapsed:!0,duration:!0,timestamp:!0}),h=t.i(n.a)(y,t.i(n.b)(()=>(e)=>(a)=>{if(a.type!==l.LOCATION_CHANGED)return e(a);const n=m({},a),r=n.payload;if(r.pathname.startsWith(r.basename)){const e=r.basename.length;r.pathname=r.pathname.slice(e);const a=t.i(l.createMatcher)(c.a)(r.pathname);a&&(n.payload=m({},r,a))}return e(n)},f,i.a,g))},419:function(e,a){"use strict";a.a=function(e,a){return(t=e,n)=>{return n.type in a?a[n.type](t,n):t}}},420:function(e,a){"use strict";a.a="e7955fcfca80bb0afe151fb7cd3ab249fe0ce557"},504:function(e,a,t){a=e.exports=t(43)(void 0),a.push([e.i,"html,\nbody,\n#container,\n.root,\n.wrapper {\n  min-height: 100vh;\n}\n\n.wrapper {\n  padding: 1rem;\n  display: flex;\n  flex-direction: column;\n}\n\n.navbar {\n  border-bottom: 1px solid rgba(0, 0, 0, 0.2);\n  margin-bottom: 20px;\n  flex: 0 0;\n}\n\n.navbar a,\n.navbar a:link,\n.navbar a:hover,\n.navbar a:active,\n.navbar a:visited {\n  color: #000;\n  text-decoration: none\n}\n\n.logo {\n  font-weight: bold;\n}\n\n.content {\n  flex: 1 1 100%;\n}\n\n.loading-indicator {\n  height: 0.2rem;\n  position: fixed;\n  top: 0;\n  left: 0;\n  margin: 0;\n  z-index: 1031;\n  transform: translate(100%, 0);\n  background: #00f;\n  width: 80%;\n  transition: all 1s;\n  opacity: 0.0;\n}\n\n.loading-indicator.active {\n  animation: loading-bar 2s infinite linear;\n  opacity: 1.0;\n}\n\n@keyframes loading-bar {\n  0% {\n    transform: translate(-100%, 0);\n  }\n\n  100% {\n    transform: translate(100%, 0);\n  }\n}\n\n.plays-row-header header {\n  font-weight: bold;\n}\n\n.play-cell {\n  display: flex;\n}\n\n.info-set {\n  flex: 1 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n}\n\n.icon-set {\n  display: flex;\n  flex: 0 0;\n  flex-direction: column;\n}\n\n.icon-set > * {\n  width: 16px;\n}\n\n.players-list {\n  display: flex;\n}\n\n.ui.label.player-label {\n  display: inline-flex;\n  align-items: center;\n  padding: 5px 5px 5px 7px;\n}\n\n.ui.label.player-label > .detail {\n  margin-left: 5px;\n}\n\n.ui.label.score-label {\n  display: inline-flex;\n  justify-content: flex-start;\n  align-items: center;\n  padding: 3px 3px 3px 6px;\n  margin: 1px;\n  min-width: 65px;\n}\n\n.ui.label.score-label > .points {\n  flex: 1 1 100%;\n  text-align: right;\n}\n\n.ui.label.score-label > .detail {\n  flex: 0 1;\n  margin-left: 5px;\n}\n\n.row {\n  display: flex;\n}\n\n.row-item {\n  flex: 1 1;\n}\n\n.row-item.collapse {\n  flex: 0 1;\n}\n\n.row-item:not(:last-child) {\n  margin-right: 10px;\n}\n\n.spinner {\n  animation: spinner 1.5s infinite linear;\n}\n\n@keyframes spinner {\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n}\n\n.ChallengeProgress {\n  display: flex;\n  justify-content: space-between;\n  border-radius: 5px;\n  position: relative;\n  height: 30px;\n  background-color: #e6e6e6;\n}\n\n.ChallengeProgress .bar {\n  color: #888;\n  height: 20px;\n  position: absolute;\n  transition: 0.4s all linear;\n}\n\n.ChallengeProgress .bar.progress {\n  background-color: #21ba45;\n  top: 0;\n  height: 88%;\n  color: #fff;\n  border-radius: 5px 5px 5px 0;\n}\n\n.ChallengeProgress.behindTarget .bar.progress {\n  background-color: #db2828;\n  border-radius: 5px 5px 0 0;\n}\n\n.ChallengeProgress .bar.target {\n  background-color: #777;\n  bottom: 0%;\n  height: 9%;\n  color: #000;\n  border-radius: 0 0 5px 5px;\n}\n\n.ChallengeProgress .text {\n  position: relative;\n  flex-grow: 0;\n  padding: 0 5px;\n  line-height: 26px;\n  white-space: nowrap;\n  transition: 0.4s all linear;\n}\n\n.ChallengeProgress .text.progress {\n  text-align: right;\n}\n\nfooter {\n  flex: 0 0;\n  opacity: 0.8;\n  margin-top: 1rem;\n}\n\n.commit-info {\n  margin-bottom: -3px;\n}\n\n.commit-info .commit-hash-left,\n.commit-info .commit-hash-right {\n  font-family: monospace;\n  clip-path: inset(0 100% 0 0);\n}\n\n.commit-info .commit-hash-left {\n  transition: clip-path 0.2s;\n}\n\n.commit-info .commit-hash-right {\n  transition: clip-path 0.4s linear;\n}\n\n.commit-info .commit-hash-left[data-expand=\"1\"],\n.commit-info .commit-hash-left[data-expand=\"2\"] {\n  clip-path: inset(0);\n}\n\n.commit-info .commit-hash-right[data-expand=\"2\"] {\n  clip-path: inset(0);\n}\n",""])}},[1444]);
//# sourceMappingURL=main-648a5f79586f42f35d5b.js.map